> Vim命令大全

## 常用命令

### 编辑

> 以下命令在命令模式执行

`i`，`a`，`r`：在光标的前、后、上方插入字符命令`(i=insert,a=append,r=replace)`

`O`，`o`：在当前行前面、后面插入一空行

`cw`，`dw`：改变(置换)/删除光标所在处的单词的命令`(c=change,d=delete)`

`x`，`d$`，`dd`：删除光标处，光标之后，光标所在行的字符

### 光标移动

`k`，`j`，`h`，`l`：分别上下左右移动光标

`Ctrl+F`，`Ctrl+B`：分别向下，向上翻页

`n`：敲数字然后回车，光标往后移动`n`行

`nG`：使得光标跳动到指定行

`w`，`b`：使光标向前或向后跳过一个单词

`ma`，`mb`，`mc`：光标移动到起始行，结束行，粘贴行

`w`或`W`：光标右移一个字至字首

`b`或`B`：光标左移一个字至字首

`e`或`E`：光标右移一个字至字尾

`(`，`)`：光标分别移至句首，句尾

`{`，`}`：光标分别移至段落开头，结尾

`H`，`M`，`L`：光标移至屏幕顶行，中间行，最后行

`0`：（注意是数字零）光标移至当前行首

`$`：光标移至当前行尾

### 删除

`ndw`或`ndW`：删除光标处开始及其后的`n-1`个字

`do`：删至行首

`d$`：删至行尾

`ndd`：删除当前行及其后`n-1`行

`x`或`X`：删除一个字符，`x`删除光标后的，而`X`删除光标前的

`Ctrl+U`：删除输入方式下所输入的文本

`n1,n2 d`：将`n1`行到`n2`行之间的内容删除

`%d`：删除全部内容

`1,$d`：删除全部内容

### 查找

`/abc`：从光标开始处向文件尾搜索`abc`

`?abc`：从光标开始处向文件首搜索`abc`

`/\/abc`：从光标开始处向文件尾搜索`/abc`，其中`/`是转义

`n`：在同一方向重复上一次搜索命令

`N`：在反方向上重复上一次搜索命令

### 替换

`s/vivian/sky/`：替换当前行第一个`vivian`为`sky`

`s/vivian/sky/g`：替换当前行所有`vivian`为`sky`

`n,$s/vivian/sky/`：替换第`n`行开始到最后一行中每一行的第一个 `vivian`为`sky`

`n,$s/vivian/sky/g`：替换第`n`行开始到最后一行中每一行所有`vivian`为`sky`

`%s/vivian/sky/g`：等同于`g/vivian/s//sky/`，替换每一行的每一个`vivian`为`sky`

`s#vivian/#sky/#`：替换当前行第一个`vivian/`为`sky/`（可以使用`#`或`+`作为分隔符，此时中间出现的`/`不会作为分隔符）

`s/p1/p2/g`：将当前行中所有`p1`均用`p2`替代

`n1,n2s/p1/p2/g`：将第`n1`至`n2`行中所有`p1`均用`p2`替代

`g/p1/s//p2/g`：将文件中所有`p1`均用`p2`替换

### 复制粘贴

`yy`：复制当前行

`nyy`：复制当前行开始的n行

先按`v`然后方向键选择区域，按`y`复制选中行

`dd`：剪切当前行

`p`：在当前光标处下面粘贴内容

`P`：在当前光标处上面粘贴内容

`n1,n2 co n3`：将`n1`行到`n2`行之间的内容拷贝到第`n3`行下

`n1,n2 m n3`：将`n1`行到`n2`行之间的内容移至到第`n3`行下

## 常用选项

### 编辑器选项

`set number`：显示行号

`set number!`：不显示行号，其它选项同理加`!`号

`set all`：列出所有选项设置情况

`set ignorance`：在搜索中忽略大小写

`set list`：显示制表位`Ctrl+I`和行尾标志`$`

`set warn`：在转到别的文件时若没保存当前文件则显示`NO write`信息

`set nowrapscan`：禁止`vi`在搜索到达文件两端时，又从另一端开始

`set mesg`：允许`vi`显示其他用户用`write`写到自己终端上的信息

### 编辑器保存

`:wq`：保存并退出

`:q!`：不保存退出

`:w`：保存更改

`U`：撤销更改

`Ctrl+R`：重做，用于撤销的更改恢复
